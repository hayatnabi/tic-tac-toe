<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
      .game-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
      }

      .game-card {
        padding: 20px;
        width: 350px;
        text-align: center;
      }

      .board-row {
        display: flex;
        justify-content: space-between;
      }

      .board-cell {
        width: 90px;
        height: 90px;
        display: flex;
        justify-content: center;
        align-items: center;
        border: 2px solid #ddd;
        font-size: 2rem;
        cursor: pointer;
        background-color: #f0f0f0;
      }

      .board-cell:hover {
        background-color: #e0e0e0;
      }
    </style>
  </head>
  <body>
    <div class="game-container">
      <div class="card game-card">
        <h4>Tic Tac Toe</h4>
        <!-- Display the current player's turn -->
        <div class="chip">
          <%= "Player #{@game.turn}'s Turn" %>
        </div>
        <!-- Game Board -->
        <div class="board" style="margin-top: 20px;">
          <%= form_with(url: new_game_path, method: :post, local: true) do |form| %>
            <%= flash[:notice] %>
            <% @game.board.each_with_index do |row, row_idx| %>
              <div class="board-row center-align" style="justify-content: center;">
                <div class="board-row" style="display: flex; gap: 0; justify-content: center;">
                  <% row.each_with_index do |cell, col_idx| %>
                    <%= button_tag(cell.blank? ? '' : cell, type: 'submit', class: 'board-cell', style: 'font-size: 2rem; width: 90px; height: 90px;', name: "move[#{row_idx}][#{col_idx}]") %>
                  <% end %>
                </div>
              </div>
            <% end %>
            <div class="center-align" style="margin-top: 2rem;">
              <%= form.submit "Restart Game", class: "btn waves-effect waves-light blue darken-2 white-text" %>
            </div>
          <% end %>
        </div>
      </div>
    </div>
  </body>
</html>
